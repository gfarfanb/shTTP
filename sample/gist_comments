#! /usr/bin/env bash
#  -author Giovanni Farf√°n B.

before_api() {
    :
}

get_all() {
    endpoint "$( get gistId )/comments"
}

get_comment() {
    endpoint "$( get gistId )/comments/$( get commentId )"
}

before_post_comment() {
    :
}

post_comment() {
    endpoint "$( get gistId )/comments"
    headers \
        "Content-Type: application/vnd.github.$( get githubApiVersion ).full+json" \
        "Accept: application/vnd.github.$( get githubApiVersion ).full+json"
    body '{ "body": "shTTP comment" }'
}

after_post_comment() {
    local _id=""
    _id=$( getOutput id )
    isTrue "Id not found" "\"$_id\" != \"null\""
    if [ "$_id" != "null" ]; then
        put commentId '.id'
    fi
}

patch_comment() {
    endpoint "$( get gistId )/comments/$( get commentId )"
    body '{ "body": "shTTP comment update" }'
}

delete_comment() {
    endpoint "$( get gistId )/comments/$( get commentId )"
}

after_api() {
    :
}

flow_comments() {
    :
}

#  shellcheck disable=SC1091
. ../http_api
